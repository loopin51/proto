<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/style.css">
    <title>Agent Reflection</title>
</head>
<body>
    <h1>Agent Reflection</h1>
    <div class="reflection">
        <!-- 회상 내용이 여기에 표시됩니다 -->
    </div>

    <a href="/" class="btn">Go Back</a>

    <script>
        // 실시간으로 회상 데이터를 가져와 DOM 업데이트
        function fetchReflection() {
            fetch('/get_reflection')
                .then(response => response.json())
                .then(data => {
                    const reflectionDiv = document.querySelector('.reflection');
                    reflectionDiv.innerHTML = `<p>${data.reflection}</p>`;
                })
                .catch(error => console.error('Error fetching reflection:', error));
        }

        // 주기적으로 회상 내용을 갱신 (5초 간격)
        setInterval(fetchReflection, 5000);
        fetchReflection(); // 페이지 로드 시 초기 호출
    </script>
</body>
</html>
